{"version":3,"file":"teaser-video.js","sources":["../../src/blocks/teaser-video/teaser-video.ts"],"sourcesContent":["import { html, render } from 'lit-html';\nimport { unsafeHTML } from 'lit/directives/unsafe-html.js';\n\nimport './teaser-video.scss';\n\ntype Data = {\n  video?: string;\n  logo?: string;\n  award?: string;\n  headline?: string;\n  subheadline?: string;\n};\n\nconst renderVideo = (videoUrl: string | undefined) => {\n  if (!videoUrl) {\n    return null;\n  }\n  return html`\n    <video autoplay muted loop playsinline class=\"w-full h-full object-cover absolute left-0 top-0 bottom-0 right-0\">\n      <source src=\"${videoUrl}\" />\n    </video>\n  `;\n};\n\nconst renderHeadline = (headline: string | undefined) => {\n  if (!headline) return null;\n  return html`<h2\n    style=\"color: #fff\"\n    class=\"relative z-10 text-white font-hyundaihead text-[48px] font-medium m-0 mb-[8px]\"\n  >\n    ${headline}\n  </h2>`;\n};\n\nconst renderSubheadline = (subheadline: string | undefined) => {\n  if (!subheadline) return null;\n  return html`<h3\n    style=\"color: #fff\"\n    class=\"relative z-10 text-white font-hyundaitext text-[20px] m-0 font-normal mb-[40px]\"\n  >\n    ${subheadline}\n  </h3>`;\n};\n\nconst template = (data: Data) => {\n  return html`\n    <div id=\"teaser-video\" class=\"flex flex-col justify-end text-center bg-hyundai-blue overflow-hidden relative\">\n      ${renderVideo(data.video)}\n      <div class=\"absolute left-6 top-10\">${unsafeHTML(data.logo)}</div>\n      <div class=\"absolute right-6 top-10\">${unsafeHTML(data.award)}</div>\n      <div>${renderHeadline(data.headline)} ${renderSubheadline(data.subheadline)}</div>\n    </div>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const rows = Array.from(block.children);\n  const images = block.querySelectorAll('img');\n\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    if (i === 0) {\n      image.setAttribute('width', '88');\n      image.setAttribute('height', '37');\n    }\n    if (i === 1) {\n      image.setAttribute('width', '118');\n      image.setAttribute('height', '37');\n    }\n    image.setAttribute('loading', 'eager');\n    image.setAttribute('fetchpriority', 'high');\n  }\n\n  const data = rows.reduce((acc, row) => {\n    const [c1, c2] = row.children;\n    acc = {\n      ...acc,\n      [`${c1.textContent}`]:\n        c1.textContent === 'award' || c1.textContent === 'logo'\n          ? c2.innerHTML\n              .replace(/\\n/g, '')\n              .replace(/[\\t ]+\\</g, '<')\n              .replace(/\\>[\\t ]+\\</g, '><')\n              .replace(/\\>[\\t ]+$/g, '>')\n          : c2.textContent,\n    };\n    return acc;\n  }, {}) as Data;\n\n  block.innerHTML = '';\n  render(template(data), block);\n}\n"],"names":["renderVideo","videoUrl","html","renderHeadline","headline","renderSubheadline","subheadline","template","data","unsafeHTML","teaserVideo","block","rows","images","i","image","acc","row","c1","c2","render"],"mappings":"wHAaA,MAAMA,EAAeC,GACdA,EAGEC,kIAEYD,CAAQ,aAJlB,KASLE,EAAkBC,GACjBA,EACEF,kHAIHE,CAAQ,QALU,KASlBC,EAAqBC,GACpBA,EACEJ,mHAIHI,CAAW,QALU,KASrBC,EAAYC,GACTN,kHAEDF,EAAYQ,EAAK,KAAK,CAAC,uCACaC,EAAWD,EAAK,IAAI,CAAC,8CACpBC,EAAWD,EAAK,KAAK,CAAC,cACtDL,EAAeK,EAAK,QAAQ,CAAC,IAAIH,EAAkBG,EAAK,WAAW,CAAC,eAKjF,SAAAE,EAAyBC,EAAoB,CAC3C,MAAMC,EAAO,MAAM,KAAKD,EAAM,QAAQ,EAChCE,EAASF,EAAM,iBAAiB,KAAK,EAE3C,QAASG,EAAI,EAAGA,EAAID,EAAO,OAAQC,IAAK,CAChC,MAAAC,EAAQF,EAAOC,CAAC,EAClBA,IAAM,IACFC,EAAA,aAAa,QAAS,IAAI,EAC1BA,EAAA,aAAa,SAAU,IAAI,GAE/BD,IAAM,IACFC,EAAA,aAAa,QAAS,KAAK,EAC3BA,EAAA,aAAa,SAAU,IAAI,GAE7BA,EAAA,aAAa,UAAW,OAAO,EAC/BA,EAAA,aAAa,gBAAiB,MAAM,CAC5C,CAEA,MAAMP,EAAOI,EAAK,OAAO,CAACI,EAAKC,IAAQ,CACrC,KAAM,CAACC,EAAIC,CAAE,EAAIF,EAAI,SACf,OAAAD,EAAA,CACJ,GAAGA,EACH,CAAC,GAAGE,EAAG,WAAW,EAAE,EAClBA,EAAG,cAAgB,SAAWA,EAAG,cAAgB,OAC7CC,EAAG,UACA,QAAQ,MAAO,EAAE,EACjB,QAAQ,YAAa,GAAG,EACxB,QAAQ,cAAe,IAAI,EAC3B,QAAQ,aAAc,GAAG,EAC5BA,EAAG,WAAA,EAEJH,CACT,EAAG,CAAE,CAAA,EAELL,EAAM,UAAY,GACXS,EAAAb,EAASC,CAAI,EAAGG,CAAK,CAC9B"}
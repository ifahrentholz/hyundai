{"version":3,"file":"teaser-video.js","sources":["../../src/blocks/teaser-video/teaser-video.ts"],"sourcesContent":["import { html, render } from 'lit-html';\n// import { unsafeHTML } from 'lit/directives/unsafe-html.js';\n\nimport './teaser-video.scss';\n\ntype Data = {\n  video?: string;\n  logo?: string;\n  award?: string;\n  headline?: string;\n  subheadline?: string;\n};\n\nconst renderVideo = (videoUrl: string | undefined) => {\n  if (!videoUrl) return null;\n  return html`\n<video autoplay muted loop playsinline class=\"w-full max-h-screen object-cover\">\n  <source src=\"${videoUrl}\"></source>\n</video>\n`;\n};\n\n// const renderHeadline = (headline: string | undefined) => {\n//   if (!headline) return null;\n//   return html`<h2 class=\"relative z-10 text-white font-hyundaihead text-[48px] font-medium m-0 mb-[8px]\">\n//     ${headline}\n//   </h2>`;\n// };\n\n// const renderSubheadline = (subheadline: string | undefined) => {\n//   if (!subheadline) return null;\n//   return html`<h3 class=\"relative z-10 text-white font-hyundaitext text-[20px] m-0 font-normal mb-[40px]\">\n//     ${subheadline}\n//   </h3>`;\n// };\n\nconst template = (data: Data) => {\n  return html`\n    <div id=\"teaser-video\" class=\"text-center bg-hyundai-blue overflow-hidden relative\">${renderVideo(data.video)}</div>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const rows = Array.from(block.children);\n  const images = block.querySelectorAll('img');\n\n  for (let i = 0; i < images.length; i++) {\n    const image = images[i];\n    if (i === 0) {\n      image.setAttribute('width', '88');\n      image.setAttribute('height', '37');\n    }\n    if (i === 1) {\n      image.setAttribute('width', '118');\n      image.setAttribute('height', '37');\n    }\n    image.setAttribute('loading', 'eager');\n    image.setAttribute('fetchpriority', 'high');\n  }\n\n  const data = rows.reduce((acc, row) => {\n    const [c1, c2] = row.children;\n    acc = {\n      ...acc,\n      [`${c1.textContent}`]:\n        c1.textContent === 'award' || c1.textContent === 'logo'\n          ? c2.innerHTML\n              .replace(/\\n/g, '')\n              .replace(/[\\t ]+\\</g, '<')\n              .replace(/\\>[\\t ]+\\</g, '><')\n              .replace(/\\>[\\t ]+$/g, '>')\n          : c2.textContent,\n    };\n    return acc;\n  }, {}) as Data;\n\n  block.innerHTML = '';\n  render(template(data), block);\n}\n"],"names":["renderVideo","videoUrl","html","template","data","teaserVideo","block","rows","images","i","image","acc","row","c1","c2","render"],"mappings":"8DAaA,MAAMA,EAAeC,GACdA,EACEC,iGAEQD,CAAQ,aAHD,KAsBlBE,EAAYC,GACTF,wFACiFF,EAAYI,EAAK,KAAK,CAAC,SAIjH,SAAAC,EAAyBC,EAAoB,CAC3C,MAAMC,EAAO,MAAM,KAAKD,EAAM,QAAQ,EAChCE,EAASF,EAAM,iBAAiB,KAAK,EAE3C,QAASG,EAAI,EAAGA,EAAID,EAAO,OAAQC,IAAK,CAChC,MAAAC,EAAQF,EAAOC,CAAC,EAClBA,IAAM,IACFC,EAAA,aAAa,QAAS,IAAI,EAC1BA,EAAA,aAAa,SAAU,IAAI,GAE/BD,IAAM,IACFC,EAAA,aAAa,QAAS,KAAK,EAC3BA,EAAA,aAAa,SAAU,IAAI,GAE7BA,EAAA,aAAa,UAAW,OAAO,EAC/BA,EAAA,aAAa,gBAAiB,MAAM,CAC5C,CAEA,MAAMN,EAAOG,EAAK,OAAO,CAACI,EAAKC,IAAQ,CACrC,KAAM,CAACC,EAAIC,CAAE,EAAIF,EAAI,SACf,OAAAD,EAAA,CACJ,GAAGA,EACH,CAAC,GAAGE,EAAG,WAAW,EAAE,EAClBA,EAAG,cAAgB,SAAWA,EAAG,cAAgB,OAC7CC,EAAG,UACA,QAAQ,MAAO,EAAE,EACjB,QAAQ,YAAa,GAAG,EACxB,QAAQ,cAAe,IAAI,EAC3B,QAAQ,aAAc,GAAG,EAC5BA,EAAG,WAAA,EAEJH,CACT,EAAG,CAAE,CAAA,EAELL,EAAM,UAAY,GACXS,EAAAZ,EAASC,CAAI,EAAGE,CAAK,CAC9B"}